{% extends "base.html" %}

{% load pytils_numeral %}

{% block header_menu_item_decks_class %}active{% endblock %}

{% block content %}
    <ul class="deck-list">
        {% load thumbnail %}
        {% for deck in deck_list %}<li class="deck-list__item">
            <a class="deck-list__item-link" href="{{ deck.get_study_url }}">
                {% if deck.image %}
                    <div class="deck-list__item-image-wrapper">
                        {% thumbnail deck.image 300x300  quality=80  as thumb %}
                        <img class="deck-list__item-image" src="{{ thumb.url }}" width="{{ thumb.width }}" height="{{ thumb.height }}">
                    </div>
                {% endif %}
                <h2 class="deck-list__item-title">{{ deck.name }}</h2>
                {% if deck.all_user_cards_count %}
                    <div class="deck-list__item-cards-count">
                        {{ deck.learned_user_cards_count }}/{{ deck.all_user_cards_count }}
                    </div>
                {% else %}
                    <div class="deck-list__item-cards-count">
                        0/{{ deck.card_set.public.count }}
                    </div>
                {% endif %}
            </a>
        </li>{% endfor %}
    </ul>
{% endblock %}
